# Staging environment values
# Override default values for staging

global:
  imageRegistry: "phuoctmse"
  imagePullPolicy: Always
  namespace: "foodfund-staging"

# Auth Service - Staging
auth:
  image:
    tag: "develop"  # Use develop branch for staging
  
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

  env:
    - name: NODE_ENV
      value: "staging"
    - name: PORT
      value: "8002"

# Gateway - Staging
gateway:
  image:
    tag: "develop"
  
  service:
    type: ClusterIP  # No external access in staging
  
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

  env:
    - name: NODE_ENV
      value: "staging"
    - name: PORT
      value: "8000"

# User Service - Staging
user:
  image:
    tag: "develop"
  
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

  env:
    - name: NODE_ENV
      value: "staging"
    - name: PORT
      value: "8003"

# PostgreSQL - Staging (smaller resources)
postgresql:
  auth:
    postgresPassword: "staging123"
    password: "staging123"

  primary:
    persistence:
      size: 4Gi

# Ingress for staging
ingress:
  enabled: true
  hosts:
    - host: staging-api.foodfund.local
      paths:
        - path: /
          pathType: Prefix